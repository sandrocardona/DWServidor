<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reyes Godos</title>
</head>
<body>
    <button onclick="verReyes(listareyes)">REYES</button>
    <ul id="listareyes"></ul>
    <script>
        listareyes = document.getElementById("listareyes");

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                objJSON = JSON.parse(this.responseText);
                console.log(objJSON);
            }
        };

        url = "reyes.php";

        xhttp.open("GET", url, true);
        xhttp.send();

        function verReyes(lista){
            console.log(objJSON.reyesgodos.map(e => {
                let texto = "";
                if(typeof e === "object"){
                    var ul = document.createElement("UL");
                    lista.appendChild(ul);
                    verReyes(lista, e);
                } else {
                    var li = document.createElement("LI");
                    texto = document.createTextNode(e);
                }
                li.appendChild(texto);
                lista.appendChild(li);
            }));

        }

    </script>
</body>
</html>